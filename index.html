
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test PCM - Résultat</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
    }
    h1, h2 {
      text-align: center;
    }
    .question {
      margin-bottom: 15px;
    }
    .resultat {
      background: #f2f2f2;
      padding: 20px;
      margin-top: 30px;
      border-radius: 10px;
    }
    .hidden { display: none; }
    label { margin-right: 10px; }
  </style>
</head>
<body>
  <h1>Test PCM</h1>
  <p>Indique à quel point chaque affirmation te correspond :</p>
  <form id="testPCM">
    <div id="questions"></div>
    <button type="submit">Voir mon profil dominant</button>
  </form>
  <div class="resultat hidden" id="resultat"></div>

  <script>
    const types = [
      'Penseur·se', 'Empathique', 'Rebelle', 'Promoteur·rice', 'Rêveur·se', 'Persévérant·e'
    ];

    const affirmations = [
      // 10 par type
      ["J’aime planifier les choses à l’avance.", "Je me sens bien quand mon environnement est bien structuré.", "Je prends des décisions rationnelles basées sur des faits.", "J’organise mes journées selon un horaire.", "Je suis à l’aise avec les chiffres, les systèmes ou les procédures.", "Je suis ponctuel·le et fiable.", "J’ai besoin que les choses soient bien expliquées.", "J’ai tendance à analyser les situations en profondeur.", "Je suis plus à l’aise dans un cadre clair et prévisible.", "Je préfère les échanges professionnels aux discussions trop personnelles."],
      ["J’aime aider les autres à se sentir mieux.", "Je suis facilement ému·e par les histoires des autres.", "Je préfère un environnement de travail bienveillant à un cadre strict.", "Je suis très attentif·ve aux émotions des autres.", "J’ai besoin de me sentir aimé·e ou apprécié·e.", "Je suis sensible aux conflits dans une équipe.", "Je valorise l’harmonie avant tout.", "Je prends souvent soin des autres.", "Mon bien-être dépend de mes relations humaines.", "J’ai du mal à cacher mes émotions."],
      ["J’aime improviser plutôt que suivre un plan rigide.", "Je suis créatif·ve et j’aime trouver des solutions originales.", "J’ai besoin de m’amuser pour être motivé·e.", "Je me lasse rapidement de la routine.", "J’ai un humour un peu décalé.", "Je réagis au feeling plus qu’à la logique.", "Je pose des questions parfois 'hors cadre'.", "Je préfère la légèreté à la lourdeur des procédures.", "Je cherche souvent à casser les codes.", "Je suis énergique et expressif·ve dans mes réactions."],
      ["J’aime prendre des risques calculés.", "Je préfère passer à l’action plutôt que réfléchir trop longtemps.", "J’ai une grande confiance en moi.", "Je suis compétitif·ve et motivé·e par les résultats.", "Je me sens à l’aise dans des situations de crise.", "Je suis à l’aise dans les environnements instables.", "J’aime convaincre les autres de mes idées.", "Je m’adapte rapidement aux imprévus.", "Je préfère travailler seul·e et efficacement que trop en équipe.", "Je fonctionne bien sous pression."],
      ["J’ai besoin de temps seul·e pour me ressourcer.", "Je préfère observer avant d’agir.", "Je me sens bien dans un environnement silencieux.", "Je suis souvent perdu·e dans mes pensées.", "Je préfère qu’on me donne des consignes claires.", "Je me sens dépassé·e quand tout va trop vite.", "J’ai une riche vie intérieure.", "Je suis discret·ète dans un groupe.", "Je préfère écrire plutôt que parler.", "J’ai besoin d’un environnement stable et paisible."],
      ["Je défends mes idées avec conviction.", "Je suis fidèle à mes valeurs.", "Je suis très attentif·ve à ce qui est juste ou injuste.", "Je cherche toujours à m’améliorer.", "Je suis très exigeant·e avec moi-même.", "J’ai besoin de reconnaissance pour mon engagement.", "Je suis loyal·e envers les causes que je défends.", "J’observe beaucoup les comportements des autres.", "Je remarque vite les incohérences ou les erreurs.", "J’ai besoin de savoir que mon travail a du sens."]
    ];

    const container = document.getElementById("questions");
    affirmations.forEach((bloc, blocIndex) => {
      bloc.forEach((text, i) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `<strong>${(blocIndex*10+i+1).toString().padStart(2, '0')}.</strong> ${text}<br>
          <label><input type="radio" name="q${blocIndex}_${i}" value="1" required> 1</label>
          <label><input type="radio" name="q${blocIndex}_${i}" value="2"> 2</label>
          <label><input type="radio" name="q${blocIndex}_${i}" value="3"> 3</label>
          <label><input type="radio" name="q${blocIndex}_${i}" value="4"> 4</label>`;
        container.appendChild(div);
      });
    });

    document.getElementById("testPCM").addEventListener("submit", e => {
      e.preventDefault();
      const resultats = [0, 0, 0, 0, 0, 0];
      for (let bloc = 0; bloc < affirmations.length; bloc++) {
        for (let i = 0; i < affirmations[bloc].length; i++) {
          const val = document.querySelector(`input[name='q${bloc}_${i}']:checked`).value;
          resultats[bloc] += parseInt(val);
        }
      }
      const max = Math.max(...resultats);
      const index = resultats.indexOf(max);
      const secondaire = [...resultats]
        .map((val, i) => ({ val, i }))
        .filter(obj => obj.i !== index)
        .sort((a, b) => b.val - a.val)[0];

      const r = document.getElementById("resultat");
      r.classList.remove("hidden");
      r.innerHTML = `<h2>Ton profil dominant : ${types[index]}</h2>
        <p><strong>Score :</strong> ${resultats[index]}</p>
        <p>Ton profil secondaire : ${types[secondaire.i]} (${secondaire.val})</p>`;
      window.scrollTo({ top: r.offsetTop, behavior: 'smooth' });
    });
  </script>
</body>
</html>
